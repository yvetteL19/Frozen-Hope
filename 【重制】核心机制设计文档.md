# 《冰封希望：最终幸存者》核心机制设计文档 v5.0

## 1. 游戏核心理念

这是一款单人、叙事驱动的心理生存游戏。玩家的目标不是管理资源，而是**在极端压力下保持理性，识破认知偏误，带领团队存活10天**。

### 设计三大支柱
1. **压力管理** - 团队心理状态的崩溃边缘
2. **个人存活** - 玩家自身的生存挑战
3. **认知陷阱** - 识破偏误是获胜的核心

---

## 2. 核心机制详解

### 2.1 压力时钟（The Stress Clock）

这是团队的"集体理智值"，以**12格圆形时钟**呈现。

#### 基础规则
- **起始值**: 0格
- **崩溃阈值**: 12格（达到时游戏立即结束，触发【结局C：崩溃】）

#### 推进机制
| 情况 | 压力变化 | 举例 |
|------|---------|------|
| 常规冲突决策 | +1格 | 选择了有争议但非灾难性的选项 |
| 灾难性决策 | +2格 | 导致NPC死亡、重大资源损失 |
| 完美决策 | -1格 | 成功识破认知偏误并完美解决危机 |
| 关键人物死亡 | +2格 | 任何NPC死亡时额外触发 |

#### 压力阈值与全局效果
| 压力等级 | 时钟格数 | 全局效果 |
|---------|---------|---------|
| 🟢 稳定期 | 0-3格 | NPC保持"冷静"状态，提供理性建议 |
| 🟡 紧张期 | 4-7格 | 所有NPC进入"激动"状态，建议带有偏误 |
| 🟠 危机期 | 8-11格 | 所有NPC进入"恐慌"状态，高概率提供陷阱建议 |
| 🔴 崩溃 | 12格 | 游戏立即结束 |

#### 平衡性调整（重要！）
为确保玩家能体验完整游戏：
- 第一幕（第1-3天）：平均压力增长 ≤ 2格/幕
- 第二幕（第4-7天）：平均压力增长 ≤ 3格/幕
- 第三幕（第8-10天）：平均压力增长 ≤ 4格/幕
- **容错空间**: 设计允许玩家有2-3次陷阱选择而不立即崩溃

---

### 2.2 玩家生命值（Player HP）

玩家的个人生存指标。

#### 基础规则
- **起始值**: 100 HP
- **死亡阈值**: 0 HP（触发【结局D：你的终点】）

#### HP消耗来源
| 来源 | HP损失 | 举例 |
|------|--------|------|
| 技能使用 | -5至-8 HP | 根据角色技能不同 |
| 环境伤害 | -10至-30 HP | 寒冷、饥饿、受伤 |
| 错误决策 | -10至-20 HP | 个人直接受到的后果 |
| 特殊事件 | 变动 | 如守夜、探索等 |

#### HP恢复机制
- **助理的"急救"技能**: 可恢复自己或他人10-20 HP（代价-5 HP）
- **特定事件奖励**: 找到医疗物资时可能恢复
- **注意**: HP恢复非常有限，玩家需谨慎使用技能

---

### 2.3 NPC心理状态系统

每个NPC有两个独立的状态层：

#### A. 心理状态（受压力时钟影响）
| 状态 | 触发条件 | 行为特征 |
|------|---------|---------|
| 😌 冷静 | 压力时钟 0-3格 | 提供理性建议，支持合理决策 |
| 😰 激动 | 压力时钟 4-7格 OR 被玩家针对 | 建议带有情绪化色彩，可能出现轻微偏误 |
| 😱 恐慌 | 压力时钟 8-11格 OR 目睹死亡 | 100%提供基于认知偏误的陷阱建议 |

**优先级**: 特定事件触发 > 压力时钟全局效果

#### B. 关系状态（独立于心理状态）
| 状态 | 触发条件 | 持续效果 | 是否可逆 |
|------|---------|---------|---------|
| 🤝 中立 | 默认状态 | 无特殊倾向 | - |
| ❤️ 同盟 | 玩家救了该NPC或支持其关键决定 | 后续事件中优先支持玩家 | 可被"敌对"覆盖 |
| ⚔️ 敌对 | 玩家背叛、羞辱或严重伤害该NPC | 必定反对玩家的建议 | 需特定技能/事件修复 |

**敌对修复机制**:
- 销售总监的"谈判"技能可尝试修复（成功率50%）
- 特定事件（如共同面对生死危机）可能自动修复
- CEO的"指挥"技能可强制压制敌对表现（但不解除状态）

---

### 2.4 信标修复进度系统

这是达成最佳结局的关键。

#### 进度等级
| 进度 | 状态 | 说明 |
|------|------|------|
| 0% | 未启动 | 信标未被触碰或被锁定 |
| 10% | 初步检查 | 有人尝试过但未深入 |
| 25% | 部分修复 | 识别了问题但缺少零件 |
| 50% | 关键突破 | 主要问题已解决 |
| 75% | 接近完成 | 仅需最后调试 |
| 100% | 完全修复 | 游戏立即进入【结局A：救援】 |
| ❌ 失败 | 永久损坏 | 无法再修复，无法达成最佳结局 |

#### 进度推进规则
- 只有"程序员"或"飞行员"的技能可推进进度
- 特定事件的理性选择可让NPC程序员/飞行员帮助推进
- 一旦进度达到100%，**游戏立即结束**，不再继续后续天数

---

## 3. 游戏流程与时间结构

### 3.1 时间线
```
第1天: 坠机后的第一个早晨（教程/序幕）
第2-3天: 第一幕（生存基础 + 初次冲突）
第4-7天: 第二幕（资源枯竭 + 道德困境）
第8-10天: 第三幕（绝望边缘 + 最终抉择）
```

### 3.2 事件池抽取机制

每幕开始时，从事件池中**随机抽取**事件，但需满足：

#### 前置条件检查
每个事件都有前置条件，例如：
```
事件："最后的药品"
前置条件：
  - 飞行员存活 = 是
  - 飞行员 HP < 50
  - 医疗包存在 = 是
```

#### 抽取规则
1. **第一幕**: 从5个候选事件中抽3个（满足前置条件的优先）
2. **第二幕**: 从7个候选事件中抽4个
3. **第三幕**: 从5个候选事件中抽3个

#### 动态替换机制
如果某事件因前置条件不满足（如关键NPC已死亡），系统会：
1. 从"备用事件池"中抽取替代事件
2. 确保每幕事件数量不变
3. 优先抽取与当前剧情连贯的事件

---

## 4. 决策系统

### 4.1 选项类型

每个事件包含以下选项：

#### A. 常规选项（所有角色可见）
```
A选项（陷阱）: 基于认知偏误的错误选择
  - 明显符合直觉，但后果严重
  - 通常带有+2压力时钟或重大HP损失

B选项（理性）: 正确但可能有代价的选择
  - 需要玩家识破偏误
  - 通常带有+1压力时钟或中等HP损失

C选项（中立，部分事件有）: 妥协方案
  - 后果介于A和B之间
```

#### B. 动态选项（根据玩家角色）
```
[技能]选项: 使用角色独特技能
  - 需要消耗HP或增加压力
  - 可能达成完美决策（-1压力时钟）

(特殊对话)选项: 角色特有的对话/反应
  - 可能触发隐藏后果
  - 体现角色性格差异
```

### 4.2 完美决策（Perfect Decision）

触发条件：
1. 玩家识破了认知偏误（选择B或使用技能）
2. **且** 选择带来了明显正面效果（如避免死亡、找到额外资源、安抚团队）
3. **且** 没有严重负面副作用

奖励：**-1 压力时钟**

设计目标：每幕至少有1-2次完美决策机会

---

## 5. 认知偏误教育系统

### 5.1 游戏中的偏误

每个事件对应1个核心认知偏误：

| 偏误名称 | 定义 | 游戏中的表现 |
|---------|------|------------|
| 权威偏误 | 过度信任权威人物 | CEO要求绝对服从 |
| 麦克纳马拉谬误 | 只关注可量化的指标 | 按"价值"分配资源 |
| 虚假因果 | 将无关事件错误关联 | "重启信标导致风雪变大" |
| 情绪化推理 | "我感觉X"="X是真的" | "我感觉要死了"=真的要死 |
| 沉没成本 | 因已投入而继续错误 | "已经花了1小时，再试一次" |
| 幸存者偏差 | 只看到成功案例 | "我上次活下来了" |
| 赌徒谬误 | 认为概率会"均衡" | "风雪刮了3天，该停了" |
| 确认偏误 | 只寻找支持观点的证据 | "我们俩聪明人才能活" |
| 群体思维 | 屈服于群体压力 | "大家都说放弃他" |
| 基本归因错误 | 归咎性格而非情境 | "她就是自私的人" |
| 不作为偏误 | 认为"不作为"更安全 | "冒险手术太危险，不做" |
| 锚定效应 | 过度依赖初始信息 | "第一次亮了0.5秒，方向对了" |
| 可得性启发 | 依赖最容易想到的信息 | "我刚看到她睡得好" |
| 逆火效应 | 反驳越多越坚信 | "你们是幻觉！我们死定了！" |
| 公平世界谬误 | 相信世界是公平的 | "我贡献大，应该多得" |

### 5.2 偏误记录机制

当玩家选择陷阱选项时：
1. 屏幕角落出现：`❗认知陷阱已记录`
2. 不立即告诉玩家具体是什么偏误（保持悬念）
3. 游戏结束后在复盘界面展示

---

## 6. 资源与物资系统（简化）

为保持游戏专注于心理层面，物资系统极简化：

### 6.1 追踪的物资
- **医疗包**: 数量有限（通常1-2个），可恢复HP或稳定伤者
- **食物**: 不显示具体数量，仅在特定事件中提及"最后一份食物"
- **热源**: 影响某些事件的HP损失，但不需要玩家管理

### 6.2 设计原则
- 物资短缺是**事件背景**，不是玩家主动管理的对象
- 玩家的决策焦点是"如何分配"而非"如何获取"
- 避免传统生存游戏的数值管理，聚焦心理冲突

---

## 7. 胜利条件与失败条件

### 胜利路径
1. **最佳胜利**: 信标修复到100%（触发【结局A】）
2. **次级胜利**: 存活到第10天且压力<12（触发【结局B】）

### 失败路径
1. **集体崩溃**: 压力时钟达到12格（触发【结局C】）
2. **个人死亡**: 玩家HP降至0（触发【结局D】）
3. **主动放弃**: 选择某些"立即死亡"选项（触发【结局D】）

---

## 8. 难度与可玩性设计

### 8.1 难度曲线
```
第一幕: 教学期（压力增长慢，明显的陷阱提示）
第二幕: 挑战期（压力加速，道德困境增加）
第三幕: 绝望期（压力临界，需要完美决策才能存活）
```

### 8.2 重玩价值
1. **6个不同角色**: 每个角色体验完全不同的情景和对话
2. **事件随机性**: 每次游戏抽取的事件不同
3. **NPC动态**: NPC的存亡和状态影响后续事件
4. **认知偏误学习**: 玩家在重玩中学会识破陷阱

### 8.3 平衡性保障
- **容错机制**: 即使触发1-2个陷阱，仍有机会获胜
- **补救机会**: 第二、三幕有机会通过完美决策降低压力
- **多元结局**: 不强制玩家追求完美结局，"惨胜"也是有意义的体验

---

## 9. UI与反馈系统

### 9.1 核心UI元素
```
屏幕顶部: 压力时钟（12格圆环，实时显示）
左上角: 玩家HP条 + 角色头像
右上角: 当前天数 + 信标进度
左侧栏: 存活NPC列表 + 状态图标（冷静/激动/恐慌，同盟/敌对）
中央: 事件文本 + 选项
```

### 9.2 反馈机制
| 玩家行为 | 即时反馈 | 延迟反馈 |
|---------|---------|---------|
| 选择陷阱选项 | 压力时钟跳动+音效 | 后续事件中NPC提及此事 |
| 完美决策 | 压力时钟倒退+光效 | NPC关系改善 |
| 技能使用 | HP条变化+技能特效 | 可能解锁新选项 |
| NPC死亡 | 屏幕暗化+哀悼动画 | 该NPC从列表消失 |

---

## 10. 技术实现建议

### 10.1 数据结构
```javascript
GameState {
  day: int,                    // 当前天数
  stressClock: int,            // 压力时钟（0-12）
  playerHP: int,               // 玩家HP
  playerRole: string,          // 玩家角色
  beaconProgress: int,         // 信标进度（0-100或-1表示失败）
  npcs: [                      // NPC数组
    {
      name: string,
      alive: boolean,
      hp: int,
      mentalState: string,     // calm/agitated/panicked
      relationship: string     // neutral/ally/hostile
    }
  ],
  cognitiveTraps: [],          // 记录的认知陷阱
  eventHistory: [],            // 已触发的事件
  inventory: {                 // 简化的物资
    medkits: int,
    food: string              // "plentiful/scarce/last"
  }
}
```

### 10.2 事件触发逻辑
```javascript
function selectEvents(act, gameState) {
  let pool = getEventPool(act);
  let eligible = pool.filter(event =>
    event.prerequisites.every(check =>
      evaluateCondition(check, gameState)
    )
  );

  if (eligible.length < requiredCount[act]) {
    eligible = eligible.concat(
      getBackupEvents(act, gameState)
    );
  }

  return shuffle(eligible).slice(0, requiredCount[act]);
}
```

---

## 11. 音效与美术风格建议

### 11.1 美术风格
- **主色调**: 冷色调（蓝、灰、白）营造寒冷感
- **UI风格**: 简约现代，类似《80 Days》或《Reigns》
- **角色呈现**: 剪影或简化肖像，强调情绪表情
- **环境**: 静态背景图（飞机残骸内部），随天数变化（积雪增加、光线变化）

### 11.2 音效设计
- **压力时钟**: 每增加1格发出低沉"咚"声，倒退时发出清脆"叮"声
- **背景音**: 持续的风雪声，随压力等级增强
- **角色对话**: 可选配音，但建议用文字+情绪音效
- **关键时刻**: NPC死亡时的静默（所有音效停止2秒）

---

## 12. 开发优先级

### MVP（最小可玩版本）
- [ ] 核心机制实现（压力时钟、HP、NPC状态）
- [ ] 6个角色 + 基础技能
- [ ] 第一幕5个事件（完整）
- [ ] 2个结局（崩溃、终点）
- [ ] 基础UI

### Alpha版本
- [ ] 三幕全部事件（18个核心事件）
- [ ] 4个结局完整
- [ ] 事件前置条件系统
- [ ] 基础复盘系统

### Beta版本
- [ ] 认知偏误详细教育内容
- [ ] 完整音效和美术
- [ ] 平衡性调优
- [ ] 备用事件池

### 正式版本
- [ ] 成就系统
- [ ] 统计追踪（存活率、最常见陷阱等）
- [ ] 多语言支持
- [ ] 辅助功能（色盲模式、字体大小等）

---

**文档版本**: v5.0
**最后更新**: 2025年
**状态**: 已解决所有已知逻辑冲突，可进入开发阶段
